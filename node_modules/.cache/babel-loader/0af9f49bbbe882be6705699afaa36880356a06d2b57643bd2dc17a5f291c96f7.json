{"ast":null,"code":"// Utility functions for localStorage management\n\nexport const storageKeys = {\n  PROJECT_PROGRESS: 'gulf_portfolio_project_progress',\n  CATEGORY_PROGRESS: 'gulf_portfolio_category_progress',\n  MILESTONES: 'gulf_portfolio_milestones',\n  DOCUMENTATION: 'gulf_portfolio_documentation',\n  AI_PROMPTS: 'gulf_portfolio_ai_prompts'\n};\n\n// Get data from localStorage\nexport const getStorageData = (key, defaultValue = {}) => {\n  try {\n    const data = localStorage.getItem(key);\n    return data ? JSON.parse(data) : defaultValue;\n  } catch (error) {\n    console.error('Error reading from localStorage:', error);\n    return defaultValue;\n  }\n};\n\n// Save data to localStorage\nexport const saveStorageData = (key, data) => {\n  try {\n    localStorage.setItem(key, JSON.stringify(data));\n    return true;\n  } catch (error) {\n    console.error('Error saving to localStorage:', error);\n    return false;\n  }\n};\n\n// Get project progress\nexport const getProjectProgress = projectId => {\n  const progressData = getStorageData(storageKeys.PROJECT_PROGRESS, {});\n  return progressData[projectId] || 0;\n};\n\n// Update project progress\nexport const updateProjectProgress = (projectId, progress) => {\n  const progressData = getStorageData(storageKeys.PROJECT_PROGRESS, {});\n  progressData[projectId] = progress;\n  saveStorageData(storageKeys.PROJECT_PROGRESS, progressData);\n  return progress;\n};\n\n// Get category progress\nexport const getCategoryProgress = (projectId, categoryId) => {\n  const categoryData = getStorageData(storageKeys.CATEGORY_PROGRESS, {});\n  return categoryData[`${projectId}_${categoryId}`] || 0;\n};\n\n// Update category progress\nexport const updateCategoryProgress = (projectId, categoryId, progress) => {\n  const categoryData = getStorageData(storageKeys.CATEGORY_PROGRESS, {});\n  categoryData[`${projectId}_${categoryId}`] = progress;\n  saveStorageData(storageKeys.CATEGORY_PROGRESS, categoryData);\n\n  // Also update project progress\n  updateOverallProjectProgress(projectId);\n  return progress;\n};\n\n// Calculate overall project progress from categories\nexport const updateOverallProjectProgress = projectId => {\n  const categoryData = getStorageData(storageKeys.CATEGORY_PROGRESS, {});\n\n  // Get all categories for this project\n  const projectCategories = Object.keys(categoryData).filter(key => key.startsWith(`${projectId}_`));\n  if (projectCategories.length === 0) return 0;\n\n  // Calculate average progress\n  const totalProgress = projectCategories.reduce((sum, key) => {\n    return sum + categoryData[key];\n  }, 0);\n  const averageProgress = Math.round(totalProgress / projectCategories.length);\n  updateProjectProgress(projectId, averageProgress);\n  return averageProgress;\n};\n\n// Get or initialize default progress for a project\nexport const initializeProjectProgress = (projectId, categories) => {\n  const categoryData = getStorageData(storageKeys.CATEGORY_PROGRESS, {});\n\n  // Initialize each category with 0 if not exists\n  categories.forEach(category => {\n    const key = `${projectId}_${category.id}`;\n    if (!(key in categoryData)) {\n      categoryData[key] = 0;\n    }\n  });\n  saveStorageData(storageKeys.CATEGORY_PROGRESS, categoryData);\n  updateOverallProjectProgress(projectId);\n};\n\n// Add documentation note\nexport const addDocumentation = (projectId, categoryId, note) => {\n  const docsData = getStorageData(storageKeys.DOCUMENTATION, {});\n  const key = `${projectId}_${categoryId}`;\n  if (!docsData[key]) {\n    docsData[key] = [];\n  }\n  const newNote = {\n    id: Date.now(),\n    timestamp: new Date().toISOString(),\n    content: note,\n    type: 'documentation'\n  };\n  docsData[key].push(newNote);\n  saveStorageData(storageKeys.DOCUMENTATION, docsData);\n  return newNote;\n};\n\n// Get documentation for a category\nexport const getDocumentation = (projectId, categoryId) => {\n  const docsData = getStorageData(storageKeys.DOCUMENTATION, {});\n  return docsData[`${projectId}_${categoryId}`] || [];\n};\n\n// Add AI prompt\nexport const addAiPrompt = (projectId, categoryId, prompt, response) => {\n  const promptsData = getStorageData(storageKeys.AI_PROMPTS, {});\n  const key = `${projectId}_${categoryId}`;\n  if (!promptsData[key]) {\n    promptsData[key] = [];\n  }\n  const newPrompt = {\n    id: Date.now(),\n    timestamp: new Date().toISOString(),\n    prompt: prompt,\n    response: response,\n    type: 'ai_prompt'\n  };\n  promptsData[key].push(newPrompt);\n  saveStorageData(storageKeys.AI_PROMPTS, promptsData);\n  return newPrompt;\n};\n\n// Get AI prompts for a category\nexport const getAiPrompts = (projectId, categoryId) => {\n  const promptsData = getStorageData(storageKeys.AI_PROMPTS, {});\n  return promptsData[`${projectId}_${categoryId}`] || [];\n};","map":{"version":3,"names":["storageKeys","PROJECT_PROGRESS","CATEGORY_PROGRESS","MILESTONES","DOCUMENTATION","AI_PROMPTS","getStorageData","key","defaultValue","data","localStorage","getItem","JSON","parse","error","console","saveStorageData","setItem","stringify","getProjectProgress","projectId","progressData","updateProjectProgress","progress","getCategoryProgress","categoryId","categoryData","updateCategoryProgress","updateOverallProjectProgress","projectCategories","Object","keys","filter","startsWith","length","totalProgress","reduce","sum","averageProgress","Math","round","initializeProjectProgress","categories","forEach","category","id","addDocumentation","note","docsData","newNote","Date","now","timestamp","toISOString","content","type","push","getDocumentation","addAiPrompt","prompt","response","promptsData","newPrompt","getAiPrompts"],"sources":["/data/data/com.termux/files/home/gulf-portfolio-tracker/src/utils/localStorage.js"],"sourcesContent":["// Utility functions for localStorage management\n\nexport const storageKeys = {\n  PROJECT_PROGRESS: 'gulf_portfolio_project_progress',\n  CATEGORY_PROGRESS: 'gulf_portfolio_category_progress',\n  MILESTONES: 'gulf_portfolio_milestones',\n  DOCUMENTATION: 'gulf_portfolio_documentation',\n  AI_PROMPTS: 'gulf_portfolio_ai_prompts'\n};\n\n// Get data from localStorage\nexport const getStorageData = (key, defaultValue = {}) => {\n  try {\n    const data = localStorage.getItem(key);\n    return data ? JSON.parse(data) : defaultValue;\n  } catch (error) {\n    console.error('Error reading from localStorage:', error);\n    return defaultValue;\n  }\n};\n\n// Save data to localStorage\nexport const saveStorageData = (key, data) => {\n  try {\n    localStorage.setItem(key, JSON.stringify(data));\n    return true;\n  } catch (error) {\n    console.error('Error saving to localStorage:', error);\n    return false;\n  }\n};\n\n// Get project progress\nexport const getProjectProgress = (projectId) => {\n  const progressData = getStorageData(storageKeys.PROJECT_PROGRESS, {});\n  return progressData[projectId] || 0;\n};\n\n// Update project progress\nexport const updateProjectProgress = (projectId, progress) => {\n  const progressData = getStorageData(storageKeys.PROJECT_PROGRESS, {});\n  progressData[projectId] = progress;\n  saveStorageData(storageKeys.PROJECT_PROGRESS, progressData);\n  return progress;\n};\n\n// Get category progress\nexport const getCategoryProgress = (projectId, categoryId) => {\n  const categoryData = getStorageData(storageKeys.CATEGORY_PROGRESS, {});\n  return categoryData[`${projectId}_${categoryId}`] || 0;\n};\n\n// Update category progress\nexport const updateCategoryProgress = (projectId, categoryId, progress) => {\n  const categoryData = getStorageData(storageKeys.CATEGORY_PROGRESS, {});\n  categoryData[`${projectId}_${categoryId}`] = progress;\n  saveStorageData(storageKeys.CATEGORY_PROGRESS, categoryData);\n  \n  // Also update project progress\n  updateOverallProjectProgress(projectId);\n  return progress;\n};\n\n// Calculate overall project progress from categories\nexport const updateOverallProjectProgress = (projectId) => {\n  const categoryData = getStorageData(storageKeys.CATEGORY_PROGRESS, {});\n  \n  // Get all categories for this project\n  const projectCategories = Object.keys(categoryData)\n    .filter(key => key.startsWith(`${projectId}_`));\n  \n  if (projectCategories.length === 0) return 0;\n  \n  // Calculate average progress\n  const totalProgress = projectCategories.reduce((sum, key) => {\n    return sum + categoryData[key];\n  }, 0);\n  \n  const averageProgress = Math.round(totalProgress / projectCategories.length);\n  updateProjectProgress(projectId, averageProgress);\n  return averageProgress;\n};\n\n// Get or initialize default progress for a project\nexport const initializeProjectProgress = (projectId, categories) => {\n  const categoryData = getStorageData(storageKeys.CATEGORY_PROGRESS, {});\n  \n  // Initialize each category with 0 if not exists\n  categories.forEach(category => {\n    const key = `${projectId}_${category.id}`;\n    if (!(key in categoryData)) {\n      categoryData[key] = 0;\n    }\n  });\n  \n  saveStorageData(storageKeys.CATEGORY_PROGRESS, categoryData);\n  updateOverallProjectProgress(projectId);\n};\n\n// Add documentation note\nexport const addDocumentation = (projectId, categoryId, note) => {\n  const docsData = getStorageData(storageKeys.DOCUMENTATION, {});\n  const key = `${projectId}_${categoryId}`;\n  \n  if (!docsData[key]) {\n    docsData[key] = [];\n  }\n  \n  const newNote = {\n    id: Date.now(),\n    timestamp: new Date().toISOString(),\n    content: note,\n    type: 'documentation'\n  };\n  \n  docsData[key].push(newNote);\n  saveStorageData(storageKeys.DOCUMENTATION, docsData);\n  return newNote;\n};\n\n// Get documentation for a category\nexport const getDocumentation = (projectId, categoryId) => {\n  const docsData = getStorageData(storageKeys.DOCUMENTATION, {});\n  return docsData[`${projectId}_${categoryId}`] || [];\n};\n\n// Add AI prompt\nexport const addAiPrompt = (projectId, categoryId, prompt, response) => {\n  const promptsData = getStorageData(storageKeys.AI_PROMPTS, {});\n  const key = `${projectId}_${categoryId}`;\n  \n  if (!promptsData[key]) {\n    promptsData[key] = [];\n  }\n  \n  const newPrompt = {\n    id: Date.now(),\n    timestamp: new Date().toISOString(),\n    prompt: prompt,\n    response: response,\n    type: 'ai_prompt'\n  };\n  \n  promptsData[key].push(newPrompt);\n  saveStorageData(storageKeys.AI_PROMPTS, promptsData);\n  return newPrompt;\n};\n\n// Get AI prompts for a category\nexport const getAiPrompts = (projectId, categoryId) => {\n  const promptsData = getStorageData(storageKeys.AI_PROMPTS, {});\n  return promptsData[`${projectId}_${categoryId}`] || [];\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}